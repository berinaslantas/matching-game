<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EÅŸleÅŸtirme Oyunu</title>
<style>
body { font-family:-apple-system,BlinkMacSystemFont,sans-serif; background:#0d1117; color:#c9d1d9; text-align:center; padding:20px; }
button,select{margin:6px;padding:6px 12px;background:#161b22;color:#c9d1d9;border:1px solid #30363d;border-radius:6px;}
.game{display:flex;gap:12px;margin-top:12px;}
.column{width:50%;}
.card{background:#161b22;padding:14px;margin:8px 0;border-radius:10px;border:1px solid #30363d;cursor:pointer;transition:0.15s;}
.card.selected{border-color:#58a6ff;}
.card.correct{color:#2ea043;}
.card.wrong{color:#ff7f0e;}
</style>
</head>
<body>

<h2>ðŸ”— EÅŸleÅŸtirme Oyunu</h2>
<select id="mainUnit"></select>
<select id="subUnit"></select>
<button onclick="startGame()">BaÅŸlat</button>

<div class="game">
  <div class="column" id="leftCol"></div>
  <div class="column" id="rightCol"></div>
</div>

<script>
/* ===== VERÄ°LER ===== */
const units = {
    "Ä°slamiyet Ã–ncesi TÃ¼rk Tarihi": {
        "TÃ¼rk adÄ±nÄ±n anlamlarÄ±": [
            { left: "Wambery", right: "TÃ¼remek" },
            { left: "Doerfer", right: "Devlete baÄŸlÄ± halk" },
            { left: "KaÅŸgarlÄ± Mahmut", right: "Olgunluk Ã‡aÄŸÄ±" },
            { left: "Ä°ran KaynaklarÄ±", right: "GÃ¼zel Ä°nsan" },
            { left: "Ã‡in KaynaklarÄ±", right: "MiÄŸfer" },
            { left: "Ziya GÃ¶kalp", right: "Kanun ve nizam sahibi" },
            { left: "DiÄŸer", right: "GÃ¼Ã§lÃ¼, kuvvetli, terk edilmiÅŸ" }
        ]
    },
    "KARIÅžIK": {
        "karÄ±ÅŸÄ±k bilgiler": [
            { left: "MaveraÃ¼nnehir", right: "Seyhun ile Ceyhun arasÄ±" },
            { left: "Avarlar", right: "Kelime anlamÄ± direnmek, engel olmak" },
            { left: "Avarlar", right: "Kurucusu Bayan Han" },
            { left: "Avarlar", right: "TÃ¶les savaÅŸÄ±yla I. KÃ¶ktÃ¼rkler tarafÄ±ndan yÄ±kÄ±ldÄ±" },
            { left: "Avarlar", right: "Ä°stanbul'u kuÅŸatan ilk TÃ¼rk devleti (2 kere)" },
            { left: "Avarlar", right: "Ãœzengi yapÄ±mÄ±nÄ± AvrupalÄ±lara Ã¶ÄŸretmiÅŸ" },
            { left: "Avarlar", right: "Juan Juan TÃ¼rkleri" },
            { left: "Avarlar", right: "Frank saldÄ±rÄ±larÄ±yla yÄ±kÄ±lmÄ±ÅŸ" },
            { left: "PeÃ§enekler, Avar, Tuna BulgarlarÄ±", right: "Ä°stanbul'u kuÅŸatmÄ±ÅŸ" },
            { left: "PeÃ§enekler, Uzlar, KÄ±pÃ§aklar", right: "Bizans'ta Ã¼cretli askerlik" },
            { left: "PeÃ§enekler, Uzlar, KÄ±pÃ§aklar", right: "Malazgirt savaÅŸÄ± sÄ±rasÄ±nda taraf deÄŸiÅŸtirmiÅŸ" },
            { left: "Uzlar", right: "OÄŸuzlarÄ±n Hristiyan olanÄ±" },
            { left: "Uzlar", right: "Romanya'nÄ±n Dobruca - Gagavuz TÃ¼rkleri" },
            { left: "Macarlar", right: "TÃ¼rk tarihinde ilk defa TÃ¼rkoloji enstitÃ¼sÃ¼nÃ¼ kurmuÅŸ" },
            { left: "Macarlar", right: "TÃ¼rk kurultayÄ± (2008-) BUGAC" },
            { left: "Macarlar", right: "Bilinen ilk liderleri Arpad" },
            { left: "Bulgarlar", right: "kelime anlamÄ± karÄ±ÅŸÄ±k - karÄ±ÅŸmak" },
            { left: "Bulgarlar (Ä°til)", right: "AlmÄ±ÅŸ Han zamanÄ±nda MÃ¼slÃ¼man" },
            { left: "Bulgarlar (Ä°til)", right: "Ä°bn-i Fablan Rihle (Yolculuk) eseri (konusu mÃ¼slÃ¼man olunmasÄ±)" },
            { left: "Moyen Ã‡ur", right: "Uygur birliÄŸi" }
        ]
    }
};

const PAGE_SIZE = 5;
let pool=[], activePairs=[];
let selL=null, selR=null;
let solvedIndexes=[];

/* ===== SELECT ===== */
const mainUnit = document.getElementById("mainUnit");
const subUnit = document.getElementById("subUnit");

function fillSelectors(){
    mainUnit.innerHTML="";
    Object.keys(units).forEach(k=>mainUnit.innerHTML+=`<option>${k}</option>`);
    loadSub();
}
function loadSub(){
    subUnit.innerHTML="";
    Object.keys(units[mainUnit.value]).forEach(k=>subUnit.innerHTML+=`<option>${k}</option>`);
}
mainUnit.onchange = loadSub;

/* ===== BAÅžLAT ===== */
function startGame(){
    pool = [...units[mainUnit.value][subUnit.value]];
    activePairs = pool.splice(0,PAGE_SIZE);
    // SAÄž BLOK: ters sÄ±ra right
    activePairs.forEach((p,i)=>{
        p.slot = i; // slot index tut
    });
    solvedIndexes=[];
    selL=selR=null;
    render();
}

/* ===== RENDER ===== */
function render(){
    const leftCol = document.getElementById("leftCol");
    const rightCol = document.getElementById("rightCol");
    leftCol.innerHTML="";
    rightCol.innerHTML="";

    // SOL BLOK
    activePairs.forEach((p,i)=>{
        const d=document.createElement("div");
        d.className="card"; d.innerText=p.left;
        d.onclick=()=>{selL=i; clearSelected(); d.classList.add("selected"); selectCheck();};
        if(p.correct) d.classList.add("correct");
        leftCol.appendChild(d);
    });

    // SAÄž BLOK
    const rightOrder = activePairs.map(p=>p.right).slice().reverse();
    rightOrder.forEach((text,i)=>{
        const d=document.createElement("div");
        d.className="card"; d.innerText=text;
        d.onclick=()=>{
            selR=i;
            clearSelected();
            d.classList.add("selected");
            selectCheck();
        };
        const origIndex = activePairs.length - 1 - i;
        if(activePairs[origIndex].correct) d.classList.add("correct");
        rightCol.appendChild(d);
    });
}

function clearSelected(){
    document.querySelectorAll(".card.selected").forEach(c=>c.classList.remove("selected"));
}

/* ===== SEÃ‡Ä°M ===== */
function selectCheck(){
    if(selL===null || selR===null) return;
    const leftPair = activePairs[selL];
    const rightIndex = activePairs.length - 1 - selR; // ters sÄ±ra
    const rightPair = activePairs[rightIndex];

    if(leftPair === rightPair){
        leftPair.correct = true;
        solvedIndexes.push(selL);

        if(solvedIndexes.length === 2 && pool.length >=2){
            const newPairs = [pool.shift(), pool.shift()];
            // SOL BLOK: boÅŸ slotlara sÄ±rayla
            solvedIndexes.forEach((idx,i)=>activePairs[idx] = newPairs[i]);
            solvedIndexes=[];
        }
    } else {
        // yanlÄ±ÅŸsa kÄ±sa renk efekti
        const leftCard = leftCol.children[selL];
        const rightCard = rightCol.children[selR];
        leftCard.classList.add("wrong");
        rightCard.classList.add("wrong");
        setTimeout(()=>{leftCard.classList.remove("wrong"); rightCard.classList.remove("wrong");},300);
    }

    selL=selR=null;
    render();
}

fillSelectors();
</script>
</body>
</html>




